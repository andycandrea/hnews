<% @articles.each do |article| %>
  <div class="article-div">
    <div>
      <span class="article-title">
        <strong>
          <%= link_to article.title, url_for_article(article) %>
        </strong>
      </span>

      <span class="article-url">
        <% if article.url? %>
          <%= link_to "(#{article.url_host})", "http://#{article.url_host}" %>
        <% else %>
          <span>(text only)</span>
        <% end %>
      </span>
    </div>

    <div class="posted-by col-lg-6">
      Posted by <strong>
        <% if article.user.present? %>
          <%= article.user.name %>
        <% else %>
          Anonymous User
        <% end %>
      </strong> at <%= article.created_at %>
    </div>

    <div class="col-lg-6"><%= link_to "View post", article_path(article) %></div>

    <% if article.content? %>
      <div class="article-content">
        <%= article.content %>
      </div>
    <% end %>

  </div>
<% end %>

<% if total_pages > 1 %>
  <div class="page-nav col-lg-12">
    <% 1.upto(total_pages) do |n| %>
      <% if current_page == n %>
        <strong><%= n %></strong>
      <% else %>
        <%= link_to n, articles_path(page_number: n) %>
      <% end %>
    <% end %>
  </div>
<% end %>

